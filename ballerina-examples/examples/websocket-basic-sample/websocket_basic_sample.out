# At the command line, navigate to the directory that contains the
# `websocket_basic_sample.bal` file and run the `ballerina run` command.
$ ballerina run websocket_basic_sample.bal

# To check the sample, use a Chrome or Firefox JavaScript console and run the following commands. <br>
# Change `xml` to another sub protocol to observe the behavior of the WebSocket server.
$ var ws = new WebSocket("ws://localhost:9090/basic/ws", "xml", "my-protocol");

$ ws.onmessage = function(frame) {console.log(frame.data)};
$ ws.onclose = function(frame) {console.log(frame)};

# Send a message.
$ ws.send("hello world");

# Use an advanced client to check the ping and pong since the browser client does not have the capability to send pings.
# Use the following command to observe the behavior when the server sends a ping message to the browser client.
$ ws.send("ping");

# Close the connection.
$ ws.close(1000, "I want to go");

# Close the connection from the server side.
$ ws.send("closeMe");

# Wait for 120 seconds to check the connection closure due to the connection timeout 
# or change the timeout in the configuration annotation.

