Ballerina File(0,2864)
  IMPORT_DECLARATION(0,22)
    PsiElement(import)('import')(0,6)
    PsiWhiteSpace(' ')(6,7)
    ORG_NAME(7,16)
      PsiElement(identifier)('ballerina')(7,16)
    PsiElement(/)('/')(16,17)
    COMPLETE_PACKAGE_NAME(17,21)
      PACKAGE_NAME(17,21)
        PsiElement(identifier)('http')(17,21)
    PsiElement(;)(';')(21,22)
  PsiWhiteSpace('\n')(22,23)
  IMPORT_DECLARATION(23,43)
    PsiElement(import)('import')(23,29)
    PsiWhiteSpace(' ')(29,30)
    ORG_NAME(30,39)
      PsiElement(identifier)('ballerina')(30,39)
    PsiElement(/)('/')(39,40)
    COMPLETE_PACKAGE_NAME(40,42)
      PACKAGE_NAME(40,42)
        PsiElement(identifier)('io')(40,42)
    PsiElement(;)(';')(42,43)
  PsiWhiteSpace('\n')(43,44)
  IMPORT_DECLARATION(44,65)
    PsiElement(import)('import')(44,50)
    PsiWhiteSpace(' ')(50,51)
    ORG_NAME(51,60)
      PsiElement(identifier)('ballerina')(51,60)
    PsiElement(/)('/')(60,61)
    COMPLETE_PACKAGE_NAME(61,64)
      PACKAGE_NAME(61,64)
        PsiElement(identifier)('log')(61,64)
    PsiElement(;)(';')(64,65)
  PsiWhiteSpace('\n')(65,66)
  IMPORT_DECLARATION(66,96)
    PsiElement(import)('import')(66,72)
    PsiWhiteSpace(' ')(72,73)
    ORG_NAME(73,82)
      PsiElement(identifier)('ballerina')(73,82)
    PsiElement(/)('/')(82,83)
    COMPLETE_PACKAGE_NAME(83,95)
      PACKAGE_NAME(83,95)
        PsiElement(identifier)('transactions')(83,95)
    PsiElement(;)(';')(95,96)
  PsiWhiteSpace('\n\n')(96,98)
  PsiComment(LINE_COMMENT)('// This service is a participant in the distributed transaction. It will get')(98,174)
  PsiWhiteSpace('\n')(174,175)
  PsiComment(LINE_COMMENT)('// infected when it receives a transaction context from the participant. The')(175,251)
  PsiWhiteSpace('\n')(251,252)
  PsiComment(LINE_COMMENT)('// transaction context, in the HTTP case, will be passed in as custom HTTP headers.')(252,335)
  PsiWhiteSpace('\n')(335,336)
  DEFINITION(336,2395)
    ANNOTATION_ATTACHMENT(336,387)
      PsiElement(@)('@')(336,337)
      NAME_REFERENCE(337,355)
        PACKAGE_REFERENCE(337,342)
          PsiElement(identifier)('http')(337,341)
          PsiElement(:)(':')(341,342)
        PsiElement(identifier)('ServiceConfig')(342,355)
      PsiWhiteSpace(' ')(355,356)
      RECORD_LITERAL(356,387)
        PsiElement({)('{')(356,357)
        PsiWhiteSpace('\n    ')(357,362)
        RECORD_LITERAL_BODY(362,385)
          RECORD_KEY_VALUE(362,385)
            RECORD_KEY(362,370)
              VARIABLE_REFERENCE_EXPRESSION(362,370)
                SIMPLE_VARIABLE_REFERENCE(362,370)
                  NAME_REFERENCE(362,370)
                    PsiElement(identifier)('basePath')(362,370)
            PsiElement(:)(':')(370,371)
            PsiWhiteSpace(' ')(371,372)
            SIMPLE_LITERAL_EXPRESSION(372,385)
              SIMPLE_LITERAL(372,385)
                PsiElement(QUOTED_STRING_LITERAL)('"/stockquote"')(372,385)
        PsiWhiteSpace('\n')(385,386)
        PsiElement(})('}')(386,387)
    PsiWhiteSpace('\n')(387,388)
    DEFINITION(388,2395)
      SERVICE_DEFINITION(388,2395)
        PsiElement(service)('service')(388,395)
        PsiElement(<)('<')(395,396)
        NAME_REFERENCE(396,408)
          PACKAGE_REFERENCE(396,401)
            PsiElement(identifier)('http')(396,400)
            PsiElement(:)(':')(400,401)
          PsiElement(identifier)('Service')(401,408)
        PsiElement(>)('>')(408,409)
        PsiWhiteSpace(' ')(409,410)
        PsiElement(identifier)('ParticipantService')(410,428)
        PsiWhiteSpace(' ')(428,429)
        SERVICE_ENDPOINT_ATTACHMENTS(429,448)
          PsiElement(bind)('bind')(429,433)
          PsiWhiteSpace(' ')(433,434)
          RECORD_LITERAL(434,448)
            PsiElement({)('{')(434,435)
            PsiWhiteSpace(' ')(435,436)
            RECORD_LITERAL_BODY(436,446)
              RECORD_KEY_VALUE(436,446)
                RECORD_KEY(436,440)
                  VARIABLE_REFERENCE_EXPRESSION(436,440)
                    SIMPLE_VARIABLE_REFERENCE(436,440)
                      NAME_REFERENCE(436,440)
                        PsiElement(identifier)('port')(436,440)
                PsiElement(:)(':')(440,441)
                PsiWhiteSpace(' ')(441,442)
                SIMPLE_LITERAL_EXPRESSION(442,446)
                  SIMPLE_LITERAL(442,446)
                    INTEGER_LITERAL(442,446)
                      PsiElement(DECIMAL_INTEGER_LITERAL)('8889')(442,446)
            PsiWhiteSpace(' ')(446,447)
            PsiElement(})('}')(447,448)
        PsiWhiteSpace(' ')(448,449)
        SERVICE_BODY(449,2395)
          PsiElement({)('{')(449,450)
          PsiWhiteSpace('\n\n    ')(450,456)
          RESOURCE_DEFINITION(456,2393)
            ANNOTATION_ATTACHMENT(456,508)
              PsiElement(@)('@')(456,457)
              NAME_REFERENCE(457,476)
                PACKAGE_REFERENCE(457,462)
                  PsiElement(identifier)('http')(457,461)
                  PsiElement(:)(':')(461,462)
                PsiElement(identifier)('ResourceConfig')(462,476)
              PsiWhiteSpace(' ')(476,477)
              RECORD_LITERAL(477,508)
                PsiElement({)('{')(477,478)
                PsiWhiteSpace('\n        ')(478,487)
                RECORD_LITERAL_BODY(487,502)
                  RECORD_KEY_VALUE(487,502)
                    RECORD_KEY(487,491)
                      VARIABLE_REFERENCE_EXPRESSION(487,491)
                        SIMPLE_VARIABLE_REFERENCE(487,491)
                          NAME_REFERENCE(487,491)
                            PsiElement(identifier)('path')(487,491)
                    PsiElement(:)(':')(491,492)
                    PsiWhiteSpace(' ')(492,493)
                    SIMPLE_LITERAL_EXPRESSION(493,502)
                      SIMPLE_LITERAL(493,502)
                        PsiElement(QUOTED_STRING_LITERAL)('"/update"')(493,502)
                PsiWhiteSpace('\n    ')(502,507)
                PsiElement(})('}')(507,508)
            PsiWhiteSpace('\n    ')(508,513)
            PsiElement(identifier)('updateStockQuote')(513,529)
            PsiElement(()('(')(529,530)
            RESOURCE_PARAMETER_LIST(530,561)
              ENDPOINT_PARAMETER(530,561)
                PsiElement(endpoint)('endpoint')(530,538)
                PsiWhiteSpace(' ')(538,539)
                PsiElement(identifier)('conn')(539,543)
                PsiElement(,)(',')(543,544)
                PsiWhiteSpace(' ')(544,545)
                PARAMETER_LIST(545,561)
                  PARAMETER(545,561)
                    PARAMETER_WITH_TYPE(545,561)
                      SIMPLE_TYPE_NAME(545,557)
                        REFERENCE_TYPE_NAME(545,557)
                          USER_DEFINE_TYPE_NAME(545,557)
                            NAME_REFERENCE(545,557)
                              PACKAGE_REFERENCE(545,550)
                                PsiElement(identifier)('http')(545,549)
                                PsiElement(:)(':')(549,550)
                              PsiElement(identifier)('Request')(550,557)
                      PsiWhiteSpace(' ')(557,558)
                      PsiElement(identifier)('req')(558,561)
            PsiElement())(')')(561,562)
            PsiWhiteSpace(' ')(562,563)
            CALLABLE_UNIT_BODY(563,2393)
              PsiElement({)('{')(563,564)
              PsiWhiteSpace('\n        ')(564,573)
              BLOCK(573,2387)
                STATEMENT(573,625)
                  EXPRESSION_STMT(573,625)
                    VARIABLE_REFERENCE_EXPRESSION(573,624)
                      FUNCTION_INVOCATION_REFERENCE(573,624)
                        FUNCTION_INVOCATION(573,624)
                          FUNCTION_NAME_REFERENCE(573,586)
                            PACKAGE_REFERENCE(573,577)
                              PsiElement(identifier)('log')(573,576)
                              PsiElement(:)(':')(576,577)
                            ANY_IDENTIFIER_NAME(577,586)
                              PsiElement(identifier)('printInfo')(577,586)
                          PsiElement(()('(')(586,587)
                          INVOCATION_ARG_LIST(587,623)
                            INVOCATION_ARG(587,623)
                              SIMPLE_LITERAL_EXPRESSION(587,623)
                                SIMPLE_LITERAL(587,623)
                                  PsiElement(QUOTED_STRING_LITERAL)('"Received update stockquote request"')(587,623)
                          PsiElement())(')')(623,624)
                    PsiElement(;)(';')(624,625)
                PsiWhiteSpace('\n        ')(625,634)
                STATEMENT(634,658)
                  VARIABLE_DEFINITION_STATEMENT(634,658)
                    SIMPLE_TYPE_NAME(634,647)
                      REFERENCE_TYPE_NAME(634,647)
                        USER_DEFINE_TYPE_NAME(634,647)
                          NAME_REFERENCE(634,647)
                            PACKAGE_REFERENCE(634,639)
                              PsiElement(identifier)('http')(634,638)
                              PsiElement(:)(':')(638,639)
                            PsiElement(identifier)('Response')(639,647)
                    PsiWhiteSpace(' ')(647,648)
                    PsiElement(identifier)('res')(648,651)
                    PsiWhiteSpace(' ')(651,652)
                    PsiElement(=)('=')(652,653)
                    PsiWhiteSpace(' ')(653,654)
                    TYPE_INIT_EXPRESSION(654,657)
                      TYPE_INIT_EXPR(654,657)
                        PsiElement(new)('new')(654,657)
                    PsiElement(;)(';')(657,658)
                PsiWhiteSpace('\n\n        ')(658,668)
                PsiComment(LINE_COMMENT)('// At the beginning of the transaction statement, since a transaction')(668,737)
                PsiWhiteSpace('\n        ')(737,746)
                PsiComment(LINE_COMMENT)('// context has been received, this service will register with the')(746,811)
                PsiWhiteSpace('\n        ')(811,820)
                PsiComment(LINE_COMMENT)('// initiator as a participant.')(820,850)
                PsiWhiteSpace('\n        ')(850,859)
                STATEMENT(859,2387)
                  TRANSACTION_STATEMENT(859,2387)
                    TRANSACTION_CLAUSE(859,2387)
                      PsiElement(transaction)('transaction')(859,870)
                      PsiWhiteSpace(' ')(870,871)
                      PsiElement(with)('with')(871,875)
                      PsiWhiteSpace(' ')(875,876)
                      TRANSACTION_PROPERTY_INIT_STATEMENT_LIST(876,968)
                        TRANSACTION_PROPERTY_INIT_STATEMENT(876,909)
                          ON_COMMIT_STATEMENT(876,909)
                            PsiElement(oncommit)('oncommit')(876,884)
                            PsiWhiteSpace(' ')(884,885)
                            PsiElement(=)('=')(885,886)
                            PsiWhiteSpace(' ')(886,887)
                            VARIABLE_REFERENCE_EXPRESSION(887,909)
                              SIMPLE_VARIABLE_REFERENCE(887,909)
                                NAME_REFERENCE(887,909)
                                  PsiElement(identifier)('printParticipantCommit')(887,909)
                        PsiElement(,)(',')(909,910)
                        PsiWhiteSpace(' \n                         ')(910,937)
                        TRANSACTION_PROPERTY_INIT_STATEMENT(937,968)
                          ON_ABORT_STATEMENT(937,968)
                            PsiElement(onabort)('onabort')(937,944)
                            PsiWhiteSpace(' ')(944,945)
                            PsiElement(=)('=')(945,946)
                            PsiWhiteSpace(' ')(946,947)
                            VARIABLE_REFERENCE_EXPRESSION(947,968)
                              SIMPLE_VARIABLE_REFERENCE(947,968)
                                NAME_REFERENCE(947,968)
                                  PsiElement(identifier)('printParticipantAbort')(947,968)
                      PsiWhiteSpace(' ')(968,969)
                      PsiElement({)('{')(969,970)
                      PsiWhiteSpace('\n        \n            ')(970,992)
                      PsiComment(LINE_COMMENT)('// Print the current transaction ID')(992,1027)
                      PsiWhiteSpace('\n            ')(1027,1040)
                      BLOCK(1040,2377)
                        STATEMENT(1040,1146)
                          EXPRESSION_STMT(1040,1146)
                            VARIABLE_REFERENCE_EXPRESSION(1040,1145)
                              FUNCTION_INVOCATION_REFERENCE(1040,1145)
                                FUNCTION_INVOCATION(1040,1145)
                                  FUNCTION_NAME_REFERENCE(1040,1053)
                                    PACKAGE_REFERENCE(1040,1044)
                                      PsiElement(identifier)('log')(1040,1043)
                                      PsiElement(:)(':')(1043,1044)
                                    ANY_IDENTIFIER_NAME(1044,1053)
                                      PsiElement(identifier)('printInfo')(1044,1053)
                                  PsiElement(()('(')(1053,1054)
                                  INVOCATION_ARG_LIST(1054,1144)
                                    INVOCATION_ARG(1054,1144)
                                      BINARY_ADD_SUB_EXPRESSION(1054,1144)
                                        SIMPLE_LITERAL_EXPRESSION(1054,1076)
                                          SIMPLE_LITERAL(1054,1076)
                                            PsiElement(QUOTED_STRING_LITERAL)('"Joined transaction: "')(1054,1076)
                                        PsiWhiteSpace(' ')(1076,1077)
                                        PsiElement(+)('+')(1077,1078)
                                        PsiWhiteSpace('\n                           ')(1078,1106)
                                        VARIABLE_REFERENCE_EXPRESSION(1106,1144)
                                          FUNCTION_INVOCATION_REFERENCE(1106,1144)
                                            FUNCTION_INVOCATION(1106,1144)
                                              FUNCTION_NAME_REFERENCE(1106,1142)
                                                PACKAGE_REFERENCE(1106,1119)
                                                  PsiElement(identifier)('transactions')(1106,1118)
                                                  PsiElement(:)(':')(1118,1119)
                                                ANY_IDENTIFIER_NAME(1119,1142)
                                                  PsiElement(identifier)('getCurrentTransactionId')(1119,1142)
                                              PsiElement(()('(')(1142,1143)
                                              PsiElement())(')')(1143,1144)
                                  PsiElement())(')')(1144,1145)
                            PsiElement(;)(';')(1145,1146)
                        PsiWhiteSpace('\n            \n            ')(1146,1172)
                        STATEMENT(1172,1217)
                          ASSIGNMENT_STATEMENT(1172,1217)
                            PsiElement(var)('var')(1172,1175)
                            PsiWhiteSpace(' ')(1175,1176)
                            SIMPLE_VARIABLE_REFERENCE(1176,1185)
                              NAME_REFERENCE(1176,1185)
                                PsiElement(identifier)('updateReq')(1176,1185)
                            PsiWhiteSpace(' ')(1185,1186)
                            PsiElement(=)('=')(1186,1187)
                            PsiWhiteSpace(' ')(1187,1188)
                            UNARY_EXPRESSION(1188,1216)
                              PsiElement(untaint)('untaint')(1188,1195)
                              PsiWhiteSpace(' ')(1195,1196)
                              VARIABLE_REFERENCE_EXPRESSION(1196,1216)
                                INVOCATION_REFERENCE(1196,1216)
                                  SIMPLE_VARIABLE_REFERENCE(1196,1199)
                                    NAME_REFERENCE(1196,1199)
                                      PsiElement(identifier)('req')(1196,1199)
                                  INVOCATION(1199,1216)
                                    PsiElement(.)('.')(1199,1200)
                                    ANY_IDENTIFIER_NAME(1200,1214)
                                      PsiElement(identifier)('getJsonPayload')(1200,1214)
                                    PsiElement(()('(')(1214,1215)
                                    PsiElement())(')')(1215,1216)
                            PsiElement(;)(';')(1216,1217)
                        PsiWhiteSpace('\n            ')(1217,1230)
                        STATEMENT(1230,2043)
                          MATCH_STATEMENT(1230,2043)
                            PsiElement(match)('match')(1230,1235)
                            PsiWhiteSpace(' ')(1235,1236)
                            VARIABLE_REFERENCE_EXPRESSION(1236,1245)
                              SIMPLE_VARIABLE_REFERENCE(1236,1245)
                                NAME_REFERENCE(1236,1245)
                                  PsiElement(identifier)('updateReq')(1236,1245)
                            PsiWhiteSpace(' ')(1245,1246)
                            MATCH_STATEMENT_BODY(1246,2043)
                              PsiElement({)('{')(1246,1247)
                              PsiWhiteSpace('\n                ')(1247,1264)
                              MATCH_PATTERN_CLAUSE(1264,1794)
                                NAMED_PATTERN(1264,1794)
                                  SIMPLE_TYPE_NAME(1264,1268)
                                    REFERENCE_TYPE_NAME(1264,1268)
                                      BUILT_IN_REFERENCE_TYPE_NAME(1264,1268)
                                        JSON_TYPE_NAME(1264,1268)
                                          PsiElement(json)('json')(1264,1268)
                                  PsiWhiteSpace(' ')(1268,1269)
                                  PsiElement(identifier)('updateReqJson')(1269,1282)
                                  PsiWhiteSpace(' ')(1282,1283)
                                  PsiElement(=>)('=>')(1283,1285)
                                  PsiWhiteSpace(' ')(1285,1286)
                                  PsiElement({)('{')(1286,1287)
                                  PsiWhiteSpace('\n                    ')(1287,1308)
                                  BLOCK(1308,1776)
                                    STATEMENT(1308,1568)
                                      VARIABLE_DEFINITION_STATEMENT(1308,1568)
                                        SIMPLE_TYPE_NAME(1308,1314)
                                          VALUE_TYPE_NAME(1308,1314)
                                            PsiElement(string)('string')(1308,1314)
                                        PsiWhiteSpace(' ')(1314,1315)
                                        PsiElement(identifier)('msg')(1315,1318)
                                        PsiWhiteSpace(' ')(1318,1319)
                                        PsiElement(=)('=')(1319,1320)
                                        PsiWhiteSpace(' \n                        ')(1320,1346)
                                        VARIABLE_REFERENCE_EXPRESSION(1346,1567)
                                          FUNCTION_INVOCATION_REFERENCE(1346,1567)
                                            FUNCTION_INVOCATION(1346,1567)
                                              FUNCTION_NAME_REFERENCE(1346,1356)
                                                PACKAGE_REFERENCE(1346,1349)
                                                  PsiElement(identifier)('io')(1346,1348)
                                                  PsiElement(:)(':')(1348,1349)
                                                ANY_IDENTIFIER_NAME(1349,1356)
                                                  PsiElement(identifier)('sprintf')(1349,1356)
                                              PsiElement(()('(')(1356,1357)
                                              INVOCATION_ARG_LIST(1357,1566)
                                                INVOCATION_ARG(1357,1451)
                                                  SIMPLE_LITERAL_EXPRESSION(1357,1451)
                                                    SIMPLE_LITERAL(1357,1451)
                                                      PsiElement(QUOTED_STRING_LITERAL)('"Update stock quote request received.\n                                    symbol:%s, price:%s"')(1357,1451)
                                                PsiElement(,)(',')(1451,1452)
                                                PsiWhiteSpace('\n                                    ')(1452,1489)
                                                INVOCATION_ARG(1489,1509)
                                                  VARIABLE_REFERENCE_EXPRESSION(1489,1509)
                                                    FIELD_VARIABLE_REFERENCE(1489,1509)
                                                      SIMPLE_VARIABLE_REFERENCE(1489,1502)
                                                        NAME_REFERENCE(1489,1502)
                                                          PsiElement(identifier)('updateReqJson')(1489,1502)
                                                      FIELD(1502,1509)
                                                        PsiElement(.)('.')(1502,1503)
                                                        PsiElement(identifier)('symbol')(1503,1509)
                                                PsiElement(,)(',')(1509,1510)
                                                PsiWhiteSpace('\n                                    ')(1510,1547)
                                                INVOCATION_ARG(1547,1566)
                                                  VARIABLE_REFERENCE_EXPRESSION(1547,1566)
                                                    FIELD_VARIABLE_REFERENCE(1547,1566)
                                                      SIMPLE_VARIABLE_REFERENCE(1547,1560)
                                                        NAME_REFERENCE(1547,1560)
                                                          PsiElement(identifier)('updateReqJson')(1547,1560)
                                                      FIELD(1560,1566)
                                                        PsiElement(.)('.')(1560,1561)
                                                        PsiElement(identifier)('price')(1561,1566)
                                              PsiElement())(')')(1566,1567)
                                        PsiElement(;)(';')(1567,1568)
                                    PsiWhiteSpace('\n                    ')(1568,1589)
                                    STATEMENT(1589,1608)
                                      EXPRESSION_STMT(1589,1608)
                                        VARIABLE_REFERENCE_EXPRESSION(1589,1607)
                                          FUNCTION_INVOCATION_REFERENCE(1589,1607)
                                            FUNCTION_INVOCATION(1589,1607)
                                              FUNCTION_NAME_REFERENCE(1589,1602)
                                                PACKAGE_REFERENCE(1589,1593)
                                                  PsiElement(identifier)('log')(1589,1592)
                                                  PsiElement(:)(':')(1592,1593)
                                                ANY_IDENTIFIER_NAME(1593,1602)
                                                  PsiElement(identifier)('printInfo')(1593,1602)
                                              PsiElement(()('(')(1602,1603)
                                              INVOCATION_ARG_LIST(1603,1606)
                                                INVOCATION_ARG(1603,1606)
                                                  VARIABLE_REFERENCE_EXPRESSION(1603,1606)
                                                    SIMPLE_VARIABLE_REFERENCE(1603,1606)
                                                      NAME_REFERENCE(1603,1606)
                                                        PsiElement(identifier)('msg')(1603,1606)
                                              PsiElement())(')')(1606,1607)
                                        PsiElement(;)(';')(1607,1608)
                                    PsiWhiteSpace('\n\n                    ')(1608,1630)
                                    STATEMENT(1630,1677)
                                      VARIABLE_DEFINITION_STATEMENT(1630,1677)
                                        SIMPLE_TYPE_NAME(1630,1634)
                                          REFERENCE_TYPE_NAME(1630,1634)
                                            BUILT_IN_REFERENCE_TYPE_NAME(1630,1634)
                                              JSON_TYPE_NAME(1630,1634)
                                                PsiElement(json)('json')(1630,1634)
                                        PsiWhiteSpace(' ')(1634,1635)
                                        PsiElement(identifier)('jsonRes')(1635,1642)
                                        PsiWhiteSpace(' ')(1642,1643)
                                        PsiElement(=)('=')(1643,1644)
                                        PsiWhiteSpace(' ')(1644,1645)
                                        RECORD_LITERAL_EXPRESSION(1645,1676)
                                          RECORD_LITERAL(1645,1676)
                                            PsiElement({)('{')(1645,1646)
                                            PsiWhiteSpace(' ')(1646,1647)
                                            RECORD_LITERAL_BODY(1647,1674)
                                              RECORD_KEY_VALUE(1647,1674)
                                                RECORD_KEY(1647,1656)
                                                  SIMPLE_LITERAL_EXPRESSION(1647,1656)
                                                    SIMPLE_LITERAL(1647,1656)
                                                      PsiElement(QUOTED_STRING_LITERAL)('"message"')(1647,1656)
                                                PsiElement(:)(':')(1656,1657)
                                                PsiWhiteSpace(' ')(1657,1658)
                                                SIMPLE_LITERAL_EXPRESSION(1658,1674)
                                                  SIMPLE_LITERAL(1658,1674)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"updating stock"')(1658,1674)
                                            PsiWhiteSpace(' ')(1674,1675)
                                            PsiElement(})('}')(1675,1676)
                                        PsiElement(;)(';')(1676,1677)
                                    PsiWhiteSpace('\n                    ')(1677,1698)
                                    STATEMENT(1698,1727)
                                      ASSIGNMENT_STATEMENT(1698,1727)
                                        FIELD_VARIABLE_REFERENCE(1698,1712)
                                          SIMPLE_VARIABLE_REFERENCE(1698,1701)
                                            NAME_REFERENCE(1698,1701)
                                              PsiElement(identifier)('res')(1698,1701)
                                          FIELD(1701,1712)
                                            PsiElement(.)('.')(1701,1702)
                                            PsiElement(identifier)('statusCode')(1702,1712)
                                        PsiWhiteSpace(' ')(1712,1713)
                                        PsiElement(=)('=')(1713,1714)
                                        PsiWhiteSpace(' ')(1714,1715)
                                        VARIABLE_REFERENCE_EXPRESSION(1715,1726)
                                          SIMPLE_VARIABLE_REFERENCE(1715,1726)
                                            NAME_REFERENCE(1715,1726)
                                              PACKAGE_REFERENCE(1715,1720)
                                                PsiElement(identifier)('http')(1715,1719)
                                                PsiElement(:)(':')(1719,1720)
                                              PsiElement(identifier)('OK_200')(1720,1726)
                                        PsiElement(;)(';')(1726,1727)
                                    PsiWhiteSpace('\n                    ')(1727,1748)
                                    STATEMENT(1748,1776)
                                      EXPRESSION_STMT(1748,1776)
                                        VARIABLE_REFERENCE_EXPRESSION(1748,1775)
                                          INVOCATION_REFERENCE(1748,1775)
                                            SIMPLE_VARIABLE_REFERENCE(1748,1751)
                                              NAME_REFERENCE(1748,1751)
                                                PsiElement(identifier)('res')(1748,1751)
                                            INVOCATION(1751,1775)
                                              PsiElement(.)('.')(1751,1752)
                                              ANY_IDENTIFIER_NAME(1752,1766)
                                                PsiElement(identifier)('setJsonPayload')(1752,1766)
                                              PsiElement(()('(')(1766,1767)
                                              INVOCATION_ARG_LIST(1767,1774)
                                                INVOCATION_ARG(1767,1774)
                                                  VARIABLE_REFERENCE_EXPRESSION(1767,1774)
                                                    SIMPLE_VARIABLE_REFERENCE(1767,1774)
                                                      NAME_REFERENCE(1767,1774)
                                                        PsiElement(identifier)('jsonRes')(1767,1774)
                                              PsiElement())(')')(1774,1775)
                                        PsiElement(;)(';')(1775,1776)
                                  PsiWhiteSpace('\n                ')(1776,1793)
                                  PsiElement(})('}')(1793,1794)
                              PsiWhiteSpace('\n                ')(1794,1811)
                              MATCH_PATTERN_CLAUSE(1811,2029)
                                NAMED_PATTERN(1811,2029)
                                  SIMPLE_TYPE_NAME(1811,1816)
                                    REFERENCE_TYPE_NAME(1811,1816)
                                      USER_DEFINE_TYPE_NAME(1811,1816)
                                        NAME_REFERENCE(1811,1816)
                                          PsiElement(identifier)('error')(1811,1816)
                                  PsiWhiteSpace(' ')(1816,1817)
                                  PsiElement(identifier)('e')(1817,1818)
                                  PsiWhiteSpace(' ')(1818,1819)
                                  PsiElement(=>)('=>')(1819,1821)
                                  PsiWhiteSpace(' ')(1821,1822)
                                  PsiElement({)('{')(1822,1823)
                                  PsiWhiteSpace('\n                    ')(1823,1844)
                                  BLOCK(1844,2011)
                                    STATEMENT(1844,1892)
                                      ASSIGNMENT_STATEMENT(1844,1892)
                                        FIELD_VARIABLE_REFERENCE(1844,1858)
                                          SIMPLE_VARIABLE_REFERENCE(1844,1847)
                                            NAME_REFERENCE(1844,1847)
                                              PsiElement(identifier)('res')(1844,1847)
                                          FIELD(1847,1858)
                                            PsiElement(.)('.')(1847,1848)
                                            PsiElement(identifier)('statusCode')(1848,1858)
                                        PsiWhiteSpace(' ')(1858,1859)
                                        PsiElement(=)('=')(1859,1860)
                                        PsiWhiteSpace(' ')(1860,1861)
                                        VARIABLE_REFERENCE_EXPRESSION(1861,1891)
                                          SIMPLE_VARIABLE_REFERENCE(1861,1891)
                                            NAME_REFERENCE(1861,1891)
                                              PACKAGE_REFERENCE(1861,1866)
                                                PsiElement(identifier)('http')(1861,1865)
                                                PsiElement(:)(':')(1865,1866)
                                              PsiElement(identifier)('INTERNAL_SERVER_ERROR_500')(1866,1891)
                                        PsiElement(;)(';')(1891,1892)
                                    PsiWhiteSpace('\n                    ')(1892,1913)
                                    STATEMENT(1913,1939)
                                      EXPRESSION_STMT(1913,1939)
                                        VARIABLE_REFERENCE_EXPRESSION(1913,1938)
                                          INVOCATION_REFERENCE(1913,1938)
                                            SIMPLE_VARIABLE_REFERENCE(1913,1916)
                                              NAME_REFERENCE(1913,1916)
                                                PsiElement(identifier)('res')(1913,1916)
                                            INVOCATION(1916,1938)
                                              PsiElement(.)('.')(1916,1917)
                                              ANY_IDENTIFIER_NAME(1917,1927)
                                                PsiElement(identifier)('setPayload')(1917,1927)
                                              PsiElement(()('(')(1927,1928)
                                              INVOCATION_ARG_LIST(1928,1937)
                                                INVOCATION_ARG(1928,1937)
                                                  VARIABLE_REFERENCE_EXPRESSION(1928,1937)
                                                    FIELD_VARIABLE_REFERENCE(1928,1937)
                                                      SIMPLE_VARIABLE_REFERENCE(1928,1929)
                                                        NAME_REFERENCE(1928,1929)
                                                          PsiElement(identifier)('e')(1928,1929)
                                                      FIELD(1929,1937)
                                                        PsiElement(.)('.')(1929,1930)
                                                        PsiElement(identifier)('message')(1930,1937)
                                              PsiElement())(')')(1937,1938)
                                        PsiElement(;)(';')(1938,1939)
                                    PsiWhiteSpace('\n                    ')(1939,1960)
                                    STATEMENT(1960,2011)
                                      EXPRESSION_STMT(1960,2011)
                                        VARIABLE_REFERENCE_EXPRESSION(1960,2010)
                                          FUNCTION_INVOCATION_REFERENCE(1960,2010)
                                            FUNCTION_INVOCATION(1960,2010)
                                              FUNCTION_NAME_REFERENCE(1960,1974)
                                                PACKAGE_REFERENCE(1960,1964)
                                                  PsiElement(identifier)('log')(1960,1963)
                                                  PsiElement(:)(':')(1963,1964)
                                                ANY_IDENTIFIER_NAME(1964,1974)
                                                  PsiElement(identifier)('printError')(1964,1974)
                                              PsiElement(()('(')(1974,1975)
                                              INVOCATION_ARG_LIST(1975,2009)
                                                INVOCATION_ARG(1975,2000)
                                                  SIMPLE_LITERAL_EXPRESSION(1975,2000)
                                                    SIMPLE_LITERAL(1975,2000)
                                                      PsiElement(QUOTED_STRING_LITERAL)('"Payload error occurred!"')(1975,2000)
                                                PsiElement(,)(',')(2000,2001)
                                                PsiWhiteSpace(' ')(2001,2002)
                                                INVOCATION_ARG(2002,2009)
                                                  NAMED_ARGS(2002,2009)
                                                    PsiElement(identifier)('err')(2002,2005)
                                                    PsiWhiteSpace(' ')(2005,2006)
                                                    PsiElement(=)('=')(2006,2007)
                                                    PsiWhiteSpace(' ')(2007,2008)
                                                    VARIABLE_REFERENCE_EXPRESSION(2008,2009)
                                                      SIMPLE_VARIABLE_REFERENCE(2008,2009)
                                                        NAME_REFERENCE(2008,2009)
                                                          PsiElement(identifier)('e')(2008,2009)
                                              PsiElement())(')')(2009,2010)
                                        PsiElement(;)(';')(2010,2011)
                                  PsiWhiteSpace('\n                ')(2011,2028)
                                  PsiElement(})('}')(2028,2029)
                              PsiWhiteSpace('\n            ')(2029,2042)
                              PsiElement(})('}')(2042,2043)
                        PsiWhiteSpace('\n\n            ')(2043,2057)
                        STATEMENT(2057,2089)
                          ASSIGNMENT_STATEMENT(2057,2089)
                            PsiElement(var)('var')(2057,2060)
                            PsiWhiteSpace(' ')(2060,2061)
                            SIMPLE_VARIABLE_REFERENCE(2061,2067)
                              NAME_REFERENCE(2061,2067)
                                PsiElement(identifier)('result')(2061,2067)
                            PsiWhiteSpace(' ')(2067,2068)
                            PsiElement(=)('=')(2068,2069)
                            PsiWhiteSpace(' ')(2069,2070)
                            ACTION_INVOCATION_EXPRESSION(2070,2088)
                              ACTION_INVOCATION(2070,2088)
                                NAME_REFERENCE(2070,2074)
                                  PsiElement(identifier)('conn')(2070,2074)
                                PsiElement(->)('->')(2074,2076)
                                FUNCTION_INVOCATION(2076,2088)
                                  FUNCTION_NAME_REFERENCE(2076,2083)
                                    ANY_IDENTIFIER_NAME(2076,2083)
                                      PsiElement(identifier)('respond')(2076,2083)
                                  PsiElement(()('(')(2083,2084)
                                  INVOCATION_ARG_LIST(2084,2087)
                                    INVOCATION_ARG(2084,2087)
                                      VARIABLE_REFERENCE_EXPRESSION(2084,2087)
                                        SIMPLE_VARIABLE_REFERENCE(2084,2087)
                                          NAME_REFERENCE(2084,2087)
                                            PsiElement(identifier)('res')(2084,2087)
                                  PsiElement())(')')(2087,2088)
                            PsiElement(;)(';')(2088,2089)
                        PsiWhiteSpace('\n            ')(2089,2102)
                        STATEMENT(2102,2377)
                          MATCH_STATEMENT(2102,2377)
                            PsiElement(match)('match')(2102,2107)
                            PsiWhiteSpace(' ')(2107,2108)
                            VARIABLE_REFERENCE_EXPRESSION(2108,2114)
                              SIMPLE_VARIABLE_REFERENCE(2108,2114)
                                NAME_REFERENCE(2108,2114)
                                  PsiElement(identifier)('result')(2108,2114)
                            PsiWhiteSpace(' ')(2114,2115)
                            MATCH_STATEMENT_BODY(2115,2377)
                              PsiElement({)('{')(2115,2116)
                              PsiWhiteSpace('\n                ')(2116,2133)
                              MATCH_PATTERN_CLAUSE(2133,2271)
                                NAMED_PATTERN(2133,2271)
                                  SIMPLE_TYPE_NAME(2133,2138)
                                    REFERENCE_TYPE_NAME(2133,2138)
                                      USER_DEFINE_TYPE_NAME(2133,2138)
                                        NAME_REFERENCE(2133,2138)
                                          PsiElement(identifier)('error')(2133,2138)
                                  PsiWhiteSpace(' ')(2138,2139)
                                  PsiElement(identifier)('e')(2139,2140)
                                  PsiWhiteSpace(' ')(2140,2141)
                                  PsiElement(=>)('=>')(2141,2143)
                                  PsiWhiteSpace('\n                     ')(2143,2165)
                                  STATEMENT(2165,2271)
                                    EXPRESSION_STMT(2165,2271)
                                      VARIABLE_REFERENCE_EXPRESSION(2165,2270)
                                        FUNCTION_INVOCATION_REFERENCE(2165,2270)
                                          FUNCTION_INVOCATION(2165,2270)
                                            FUNCTION_NAME_REFERENCE(2165,2179)
                                              PACKAGE_REFERENCE(2165,2169)
                                                PsiElement(identifier)('log')(2165,2168)
                                                PsiElement(:)(':')(2168,2169)
                                              ANY_IDENTIFIER_NAME(2169,2179)
                                                PsiElement(identifier)('printError')(2169,2179)
                                            PsiElement(()('(')(2179,2180)
                                            INVOCATION_ARG_LIST(2180,2269)
                                              INVOCATION_ARG(2180,2223)
                                                SIMPLE_LITERAL_EXPRESSION(2180,2223)
                                                  SIMPLE_LITERAL(2180,2223)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"Could not send response back to initiator"')(2180,2223)
                                              PsiElement(,)(',')(2223,2224)
                                              PsiWhiteSpace('\n                                     ')(2224,2262)
                                              INVOCATION_ARG(2262,2269)
                                                NAMED_ARGS(2262,2269)
                                                  PsiElement(identifier)('err')(2262,2265)
                                                  PsiWhiteSpace(' ')(2265,2266)
                                                  PsiElement(=)('=')(2266,2267)
                                                  PsiWhiteSpace(' ')(2267,2268)
                                                  VARIABLE_REFERENCE_EXPRESSION(2268,2269)
                                                    SIMPLE_VARIABLE_REFERENCE(2268,2269)
                                                      NAME_REFERENCE(2268,2269)
                                                        PsiElement(identifier)('e')(2268,2269)
                                            PsiElement())(')')(2269,2270)
                                      PsiElement(;)(';')(2270,2271)
                              PsiWhiteSpace('\n                ')(2271,2288)
                              MATCH_PATTERN_CLAUSE(2288,2363)
                                UNNAMED_PATTERN(2288,2363)
                                  SIMPLE_TYPE_NAME(2288,2290)
                                    EMPTY_TUPLE_LITERAL(2288,2290)
                                      PsiElement(()('(')(2288,2289)
                                      PsiElement())(')')(2289,2290)
                                  PsiWhiteSpace(' ')(2290,2291)
                                  PsiElement(=>)('=>')(2291,2293)
                                  PsiWhiteSpace(' \n                   ')(2293,2314)
                                  STATEMENT(2314,2363)
                                    EXPRESSION_STMT(2314,2363)
                                      VARIABLE_REFERENCE_EXPRESSION(2314,2362)
                                        FUNCTION_INVOCATION_REFERENCE(2314,2362)
                                          FUNCTION_INVOCATION(2314,2362)
                                            FUNCTION_NAME_REFERENCE(2314,2327)
                                              PACKAGE_REFERENCE(2314,2318)
                                                PsiElement(identifier)('log')(2314,2317)
                                                PsiElement(:)(':')(2317,2318)
                                              ANY_IDENTIFIER_NAME(2318,2327)
                                                PsiElement(identifier)('printInfo')(2318,2327)
                                            PsiElement(()('(')(2327,2328)
                                            INVOCATION_ARG_LIST(2328,2361)
                                              INVOCATION_ARG(2328,2361)
                                                SIMPLE_LITERAL_EXPRESSION(2328,2361)
                                                  SIMPLE_LITERAL(2328,2361)
                                                    PsiElement(QUOTED_STRING_LITERAL)('"Sent response back to initiator"')(2328,2361)
                                            PsiElement())(')')(2361,2362)
                                      PsiElement(;)(';')(2362,2363)
                              PsiWhiteSpace('\n            ')(2363,2376)
                              PsiElement(})('}')(2376,2377)
                      PsiWhiteSpace('\n        ')(2377,2386)
                      PsiElement(})('}')(2386,2387)
              PsiWhiteSpace('\n    ')(2387,2392)
              PsiElement(})('}')(2392,2393)
          PsiWhiteSpace('\n')(2393,2394)
          PsiElement(})('}')(2394,2395)
  PsiWhiteSpace('\n\n')(2395,2397)
  PsiComment(LINE_COMMENT)('// The participant function that will get called when the distributed')(2397,2466)
  PsiWhiteSpace('\n')(2466,2467)
  PsiComment(LINE_COMMENT)('// transaction is aborted')(2467,2492)
  PsiWhiteSpace('\n')(2492,2493)
  DEFINITION(2493,2627)
    FUNCTION_DEFINITION(2493,2627)
      PsiElement(function)('function')(2493,2501)
      PsiWhiteSpace(' ')(2501,2502)
      CALLABLE_UNIT_SIGNATURE(2502,2545)
        ANY_IDENTIFIER_NAME(2502,2523)
          PsiElement(identifier)('printParticipantAbort')(2502,2523)
        PsiElement(()('(')(2523,2524)
        FORMAL_PARAMETER_LIST(2524,2544)
          PARAMETER(2524,2544)
            PARAMETER_WITH_TYPE(2524,2544)
              SIMPLE_TYPE_NAME(2524,2530)
                VALUE_TYPE_NAME(2524,2530)
                  PsiElement(string)('string')(2524,2530)
              PsiWhiteSpace(' ')(2530,2531)
              PsiElement(identifier)('transactionId')(2531,2544)
        PsiElement())(')')(2544,2545)
      PsiWhiteSpace(' ')(2545,2546)
      CALLABLE_UNIT_BODY(2546,2627)
        PsiElement({)('{')(2546,2547)
        PsiWhiteSpace('\n    ')(2547,2552)
        BLOCK(2552,2625)
          STATEMENT(2552,2625)
            EXPRESSION_STMT(2552,2625)
              VARIABLE_REFERENCE_EXPRESSION(2552,2624)
                FUNCTION_INVOCATION_REFERENCE(2552,2624)
                  FUNCTION_INVOCATION(2552,2624)
                    FUNCTION_NAME_REFERENCE(2552,2565)
                      PACKAGE_REFERENCE(2552,2556)
                        PsiElement(identifier)('log')(2552,2555)
                        PsiElement(:)(':')(2555,2556)
                      ANY_IDENTIFIER_NAME(2556,2565)
                        PsiElement(identifier)('printInfo')(2556,2565)
                    PsiElement(()('(')(2565,2566)
                    INVOCATION_ARG_LIST(2566,2623)
                      INVOCATION_ARG(2566,2623)
                        BINARY_ADD_SUB_EXPRESSION(2566,2623)
                          BINARY_ADD_SUB_EXPRESSION(2566,2610)
                            SIMPLE_LITERAL_EXPRESSION(2566,2594)
                              SIMPLE_LITERAL(2566,2594)
                                PsiElement(QUOTED_STRING_LITERAL)('"Participated transaction: "')(2566,2594)
                            PsiWhiteSpace(' ')(2594,2595)
                            PsiElement(+)('+')(2595,2596)
                            PsiWhiteSpace(' ')(2596,2597)
                            VARIABLE_REFERENCE_EXPRESSION(2597,2610)
                              SIMPLE_VARIABLE_REFERENCE(2597,2610)
                                NAME_REFERENCE(2597,2610)
                                  PsiElement(identifier)('transactionId')(2597,2610)
                          PsiWhiteSpace(' ')(2610,2611)
                          PsiElement(+)('+')(2611,2612)
                          PsiWhiteSpace(' ')(2612,2613)
                          SIMPLE_LITERAL_EXPRESSION(2613,2623)
                            SIMPLE_LITERAL(2613,2623)
                              PsiElement(QUOTED_STRING_LITERAL)('" aborted"')(2613,2623)
                    PsiElement())(')')(2623,2624)
              PsiElement(;)(';')(2624,2625)
        PsiWhiteSpace('\n')(2625,2626)
        PsiElement(})('}')(2626,2627)
  PsiWhiteSpace('\n\n')(2627,2629)
  PsiComment(LINE_COMMENT)('// The participant function that will get called when the distributed')(2629,2698)
  PsiWhiteSpace('\n')(2698,2699)
  PsiComment(LINE_COMMENT)('// transaction is committed')(2699,2726)
  PsiWhiteSpace('\n')(2726,2727)
  DEFINITION(2727,2864)
    FUNCTION_DEFINITION(2727,2864)
      PsiElement(function)('function')(2727,2735)
      PsiWhiteSpace(' ')(2735,2736)
      CALLABLE_UNIT_SIGNATURE(2736,2780)
        ANY_IDENTIFIER_NAME(2736,2758)
          PsiElement(identifier)('printParticipantCommit')(2736,2758)
        PsiElement(()('(')(2758,2759)
        FORMAL_PARAMETER_LIST(2759,2779)
          PARAMETER(2759,2779)
            PARAMETER_WITH_TYPE(2759,2779)
              SIMPLE_TYPE_NAME(2759,2765)
                VALUE_TYPE_NAME(2759,2765)
                  PsiElement(string)('string')(2759,2765)
              PsiWhiteSpace(' ')(2765,2766)
              PsiElement(identifier)('transactionId')(2766,2779)
        PsiElement())(')')(2779,2780)
      PsiWhiteSpace(' ')(2780,2781)
      CALLABLE_UNIT_BODY(2781,2864)
        PsiElement({)('{')(2781,2782)
        PsiWhiteSpace('\n    ')(2782,2787)
        BLOCK(2787,2862)
          STATEMENT(2787,2862)
            EXPRESSION_STMT(2787,2862)
              VARIABLE_REFERENCE_EXPRESSION(2787,2861)
                FUNCTION_INVOCATION_REFERENCE(2787,2861)
                  FUNCTION_INVOCATION(2787,2861)
                    FUNCTION_NAME_REFERENCE(2787,2800)
                      PACKAGE_REFERENCE(2787,2791)
                        PsiElement(identifier)('log')(2787,2790)
                        PsiElement(:)(':')(2790,2791)
                      ANY_IDENTIFIER_NAME(2791,2800)
                        PsiElement(identifier)('printInfo')(2791,2800)
                    PsiElement(()('(')(2800,2801)
                    INVOCATION_ARG_LIST(2801,2860)
                      INVOCATION_ARG(2801,2860)
                        BINARY_ADD_SUB_EXPRESSION(2801,2860)
                          BINARY_ADD_SUB_EXPRESSION(2801,2845)
                            SIMPLE_LITERAL_EXPRESSION(2801,2829)
                              SIMPLE_LITERAL(2801,2829)
                                PsiElement(QUOTED_STRING_LITERAL)('"Participated transaction: "')(2801,2829)
                            PsiWhiteSpace(' ')(2829,2830)
                            PsiElement(+)('+')(2830,2831)
                            PsiWhiteSpace(' ')(2831,2832)
                            VARIABLE_REFERENCE_EXPRESSION(2832,2845)
                              SIMPLE_VARIABLE_REFERENCE(2832,2845)
                                NAME_REFERENCE(2832,2845)
                                  PsiElement(identifier)('transactionId')(2832,2845)
                          PsiWhiteSpace(' ')(2845,2846)
                          PsiElement(+)('+')(2846,2847)
                          PsiWhiteSpace(' ')(2847,2848)
                          SIMPLE_LITERAL_EXPRESSION(2848,2860)
                            SIMPLE_LITERAL(2848,2860)
                              PsiElement(QUOTED_STRING_LITERAL)('" committed"')(2848,2860)
                    PsiElement())(')')(2860,2861)
              PsiElement(;)(';')(2861,2862)
        PsiWhiteSpace('\n')(2862,2863)
        PsiElement(})('}')(2863,2864)